import{j as e,B as m,o as i,u as d,r as c,q as x}from"./index-CV2QIoY8.js";import{S as p}from"./search-filters-C7MMBcFs.js";import{C as u,a as f,b as h,d as j,e as g}from"./card-DAWZcOXJ.js";import"./input-BcKVieeQ.js";import"./label-BL4IpoMq.js";const N=s=>{if(!s)return"З/п не указана";const{from:t,to:r,currency:l}=s;return t&&r?`${t} - ${r} ${l}`:t?`от ${t} ${l}`:r?`до ${r} ${l}`:"З/п не указана"},b=({vacancy:s})=>e.jsxs(u,{className:"mb-4 w-full",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("a",{href:s.alternate_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"text-lg hover:underline",children:s.name})}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:s.employer.name})]}),s.employer.logo_urls?.["90"]&&e.jsx("img",{src:s.employer.logo_urls[90],alt:`${s.employer.name} logo`,className:"ml-4 w-12 rounded-md"})]})}),e.jsxs(j,{children:[e.jsx("p",{className:"mb-2 text-base font-semibold",children:N(s.salary_range)}),e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:s.area.name}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"font-medium",children:"Требования:"})," ",s.snippet.requirement]}),e.jsxs("p",{children:[e.jsx("strong",{className:"font-medium",children:"Обязанности:"})," ",s.snippet.responsibility]})]})]}),e.jsx(g,{className:"flex justify-end",children:e.jsx(m,{children:"Откликнуться"})})]}),k=()=>{const{vacancies:s,isLoading:t,error:r,fetchResumes:l}=i(),{accessToken:n}=d();return c.useEffect(()=>{n&&l()},[n,l]),e.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[e.jsx("div",{className:"flex flex-col gap-8 md:col-span-1",children:e.jsx(p,{})}),e.jsx("div",{className:"space-y-4 md:col-span-2",children:t?[...Array(3)].map((a,o)=>e.jsx(x,{className:"h-48 w-full"},o)):r?e.jsx("p",{className:"text-destructive",children:r}):s.length>0?s.map(a=>e.jsx(b,{vacancy:a},a.id)):e.jsx("p",{className:"text-muted-foreground p-4 text-center",children:"Вакансии не найдены. Попробуйте изменить фильтры."})})]})};export{k as component};
