import{r as i,j as s,B as N,u as v,i as w}from"./index-DU31d7XC.js";import{l as C}from"./logo-CHkXEvN1.js";import{C as y,a as S,b as T,c as E,d as A,e as F}from"./card-CSLMK1ym.js";import{I as h}from"./input-B204TR8Y.js";import{L as p}from"./label-KgQljSrC.js";import{T as I,a as L,b as j,c as g}from"./tabs-C-LQ8OCK.js";const f=({isLogin:e,email:c,setEmail:a,password:d,setPassword:m,handleAuth:t,isLoading:l,error:r})=>s.jsxs(y,{children:[s.jsxs(S,{children:[s.jsx(T,{children:e?"Вход":"Регистрация"}),s.jsx(E,{children:e?"Войдите в свой аккаунт":"Создайте новый аккаунт"})]}),s.jsxs(A,{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(p,{htmlFor:"email",children:"Email"}),s.jsx(h,{id:"email",type:"email",placeholder:"test@example.com",value:c,onChange:o=>a(o.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(p,{htmlFor:"password",children:"Пароль"}),s.jsx(h,{id:"password",type:"password",value:d,onChange:o=>m(o.target.value)})]})]}),s.jsx(F,{children:s.jsx(N,{className:"w-full",onClick:()=>t(e),disabled:l,children:l?"Загрузка...":e?"Войти":"Зарегистрироваться"})}),r&&s.jsx("p",{className:"text-destructive pb-4 text-center text-sm",children:r})]}),R=()=>{const[e,c]=i.useState(""),[a,d]=i.useState(""),[m,t]=i.useState(null),[l,r]=i.useState(!1),u={email:e,setEmail:c,password:a,setPassword:d,handleAuth:async b=>{t(null),r(!0);try{const{login:n,register:x}=v.getState();b?await n(e,a):await x(e,a)}catch(n){const x=w(n)?n.response.data?.message:"Ошибка авторизации";t(x)}finally{r(!1)}},isLoading:l,error:m};return s.jsxs("div",{className:"bg-background flex grow flex-col items-center justify-center p-4",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("img",{src:C,alt:"Вайти Лого",className:"mx-auto h-32 w-32 rounded-4xl"}),s.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Добро пожаловать"}),s.jsx("p",{className:"text-muted-foreground",children:"Войдите или зарегистрируйтесь, чтобы продолжить"})]}),s.jsxs(I,{defaultValue:"login",className:"w-full max-w-md",children:[s.jsxs(L,{className:"bg-gradient-brand poi grid w-full grid-cols-2",children:[s.jsx(j,{className:"cursor-pointer",value:"login",children:"Вход"}),s.jsx(j,{className:"cursor-pointer",value:"register",children:"Регистрация"})]}),s.jsx(g,{value:"login",children:s.jsx(f,{isLogin:!0,...u})}),s.jsx(g,{value:"register",children:s.jsx(f,{isLogin:!1,...u})})]})]})};export{R as component};
