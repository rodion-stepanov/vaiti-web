import{r as c,j as s,R as N,B as v,u as w,i as C}from"./index-BVmN_FKB.js";import{l as y}from"./logo-CHkXEvN1.js";import{C as S,a as T,b as E,c as A,d as F,e as I}from"./card-kRNkjHks.js";import{I as h}from"./input-B_H7udt_.js";import{L as p}from"./label-eFLC5At4.js";import{T as L,a as R,b as j,c as g}from"./tabs-BpCjjH5h.js";const f=N.memo(({isLogin:e,email:i,setEmail:a,password:d,setPassword:m,handleAuth:t,isLoading:l,error:r})=>s.jsxs(S,{children:[s.jsxs(T,{children:[s.jsx(E,{children:e?"Вход":"Регистрация"}),s.jsx(A,{children:e?"Войдите в свой аккаунт":"Создайте новый аккаунт"})]}),s.jsxs(F,{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(p,{htmlFor:"email",children:"Email"}),s.jsx(h,{id:"email",type:"email",placeholder:"test@example.com",value:i,onChange:o=>a(o.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(p,{htmlFor:"password",children:"Пароль"}),s.jsx(h,{id:"password",type:"password",value:d,onChange:o=>m(o.target.value)})]})]}),s.jsx(I,{children:s.jsx(v,{className:"w-full",onClick:()=>t(e),disabled:l,children:l?"Загрузка...":e?"Войти":"Зарегистрироваться"})}),r&&s.jsx("p",{className:"text-destructive pb-4 text-center text-sm",children:r})]})),V=()=>{const[e,i]=c.useState(""),[a,d]=c.useState(""),[m,t]=c.useState(null),[l,r]=c.useState(!1),u={email:e,setEmail:i,password:a,setPassword:d,handleAuth:async b=>{t(null),r(!0);try{const{login:n,register:x}=w.getState();b?await n(e,a):await x(e,a)}catch(n){const x=C(n)?n.response.data?.message:"Ошибка авторизации";t(x)}finally{r(!1)}},isLoading:l,error:m};return s.jsxs("div",{className:"bg-background flex grow flex-col items-center justify-center p-4",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("img",{src:y,alt:"Вайти Лого",className:"mx-auto h-32 w-32 rounded-4xl"}),s.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Добро пожаловать"}),s.jsx("p",{className:"text-muted-foreground",children:"Войдите или зарегистрируйтесь, чтобы продолжить"})]}),s.jsxs(L,{defaultValue:"login",className:"w-full max-w-md",children:[s.jsxs(R,{className:"bg-gradient-brand poi grid w-full grid-cols-2",children:[s.jsx(j,{className:"cursor-pointer",value:"login",children:"Вход"}),s.jsx(j,{className:"cursor-pointer",value:"register",children:"Регистрация"})]}),s.jsx(g,{value:"login",children:s.jsx(f,{isLogin:!0,...u})}),s.jsx(g,{value:"register",children:s.jsx(f,{isLogin:!1,...u})})]})]})};export{V as component};
